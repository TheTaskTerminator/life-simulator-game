# 属性数值设计指南

## 属性数量建议

**推荐 4-8 个属性**。

- 少于 4 个：缺乏决策维度，玩家无法做出有意义的权衡
- 4-8 个：玩家可以关注，决策有层次感
- 超过 8 个：玩家难以同时追踪，注意力分散

## 必要的属性类型组合

一个平衡的属性系统通常包含：

| 类型 | 描述 | 示例 | 数量建议 |
|------|------|------|---------|
| **生命属性** | 归零触发游戏结束，制造危机感 | 健康、精力、学术热情 | 1-2 个 |
| **反向压力属性** | 值越高越不好，持续的负向压力来源 | 压力、疲惫 | 1 个 |
| **核心能力属性** | 主要成长维度，影响事件和结局评价 | 智力、科研能力 | 1-3 个 |
| **资源属性** | 累积型，无上限或大上限 | 财富、月薪 | 1-2 个 |

## bounds 设计原则

### 标准属性
```typescript
bounds: { min: 0, max: 100 }
```
适用于大多数属性，百分制直观易懂。

### 无上限资源
```typescript
bounds: { min: 0, max: Infinity }
```
适用于财富、积分等累积型资源。评分时需要设定一个"参考上限"用于归一化（如 wealth/500）。

### 自定义范围
```typescript
bounds: { min: 3, max: 100 }  // 月薪：最低 3K，上限 100K
```
有合理下限的属性不必从 0 开始。

## maxEffectValue 设计

`maxEffectValue` 是单次 AI 生成 Effect 的最大变化绝对值。

**设计原则**：设为 `bounds.max * 0.15 ~ 0.25`

| 属性类型 | 推荐上限 | 理由 |
|---------|---------|------|
| 生命属性（0-100） | 15-20 | 单次不要过于致命 |
| 压力属性（0-100） | 20-25 | 压力事件可以更剧烈 |
| 资源属性（0-∞） | 视游戏节奏 | 一次收入不应超过"一个月"的合理收益 |

**太大的影响**：单次 AI 错误可能直接触发游戏结束，破坏体验
**太小的影响**：玩家感觉选择没有意义，"反正都差不多"

## initialValues 设计

初始值随机范围决定了玩家起点的差异性：

```typescript
// 较大随机范围 → 运气成分更大
initialValues: {
  health: { min: 40, max: 100 }  // 可能天生羸弱，也可能健壮
}

// 较小随机范围 → 起点相对公平
initialValues: {
  health: { min: 70, max: 90 }  // 大家初始状态差不多
}
```

**建议**：关键属性（生命）给较窄范围保证公平性；次要属性给较宽范围增加多样性。

## 平衡测试方法

开发属性系统后，通过以下方式验证平衡性：

1. **最优路径推演**：假设每次都选择对该属性最有利的选项，100回合后最终状态是否合理？
2. **最差路径推演**：假设每次都选最差选项，能否在游戏结束前就触发 isGameOverAt？
3. **均匀路径推演**：假设选项效果均匀，100回合后是否能达到"良好"以上的软结局？

两个极端路径都有各自对应的结局，说明属性设计是平衡的。

## 反向属性（isInverted）的特殊设计

反向属性（压力、疲惫等）的 initialValues 应设为**较低值**：

```typescript
// 游戏开始时压力应该不大
initialValues: {
  stress: { min: 10, max: 30 }  // 初始压力低
}
```

反向属性通常不设 `isGameOverAt`（极限压力不直接游戏结束），而是通过影响其他属性间接造成后果（如高压力→健康下降）。

## 参考对比

| 属性 | 话题 | bounds | isGameOverAt | isInverted | maxEffect |
|------|------|--------|--------------|-----------|-----------|
| health（健康） | life | [0, 100] | 0 | - | 20 |
| stress（压力） | life | [0, 100] | - | true | 25 |
| wealth（财富） | life | [0, ∞] | - | - | 100 |
| academic_passion（学术热情） | research | [0, 100] | 0 | - | 20 |
| pressure（压力） | research | [0, 100] | - | true | 20 |
