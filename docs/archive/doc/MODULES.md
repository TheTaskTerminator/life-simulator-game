# ğŸ“¦ æ¨¡å—å’Œç›®å½•è§£æ

æœ¬æ–‡æ¡£è¯¦ç»†è¯´æ˜é¡¹ç›®çš„ç›®å½•ç»“æ„ã€å„æ¨¡å—çš„åŠŸèƒ½å’Œä»£ç ç»„ç»‡æ–¹å¼ã€‚

## ğŸ“ ç›®å½•ç»“æ„

```
life-simulator-game/
â”œâ”€â”€ components/              # UI ç»„ä»¶å±‚ï¼ˆçº¯å±•ç¤ºç»„ä»¶ï¼‰
â”‚   â”œâ”€â”€ EventModal.tsx           # äº‹ä»¶å¼¹çª—
â”‚   â”œâ”€â”€ CharacterModal.tsx       # è§’è‰²ä¿¡æ¯å¼¹çª—
â”‚   â”œâ”€â”€ CareerModal.tsx          # èŒä¸šé€‰æ‹©å¼¹çª—
â”‚   â”œâ”€â”€ EducationModal.tsx       # æ•™è‚²é€‰æ‹©å¼¹çª—
â”‚   â”œâ”€â”€ RelationshipModal.tsx     # äººé™…å…³ç³»å¼¹çª—
â”‚   â”œâ”€â”€ PropertyModal.tsx         # æˆ¿äº§å¼¹çª—
â”‚   â”œâ”€â”€ InvestmentModal.tsx      # æŠ•èµ„å¼¹çª—
â”‚   â”œâ”€â”€ AchievementModal.tsx      # æˆå°±å¼¹çª—
â”‚   â”œâ”€â”€ SettingsModal.tsx         # è®¾ç½®å¼¹çª—
â”‚   â”œâ”€â”€ StartScreen.tsx           # å¼€å§‹ç•Œé¢
â”‚   â”œâ”€â”€ WelcomeScreen.tsx         # æ¬¢è¿ç•Œé¢
â”‚   â”œâ”€â”€ StatsPanel.tsx            # å±æ€§é¢æ¿
â”‚   â”œâ”€â”€ LogPanel.tsx              # æ—¥å¿—é¢æ¿
â”‚   â”œâ”€â”€ StageIndicator.tsx        # é˜¶æ®µæŒ‡ç¤ºå™¨
â”‚   â””â”€â”€ LifeTimeline.tsx          # äººç”Ÿæ—¶é—´çº¿
â”‚
â”œâ”€â”€ views/                  # è§†å›¾å±‚ï¼ˆä¸šåŠ¡é€»è¾‘ + UIï¼‰
â”‚   â”œâ”€â”€ GameView.tsx           # ä¸»æ¸¸æˆè§†å›¾
â”‚   â”œâ”€â”€ GameHeader.tsx         # æ¸¸æˆå¤´éƒ¨å¯¼èˆª
â”‚   â”œâ”€â”€ ActionBar.tsx          # æ“ä½œæŒ‰é’®æ 
â”‚   â”œâ”€â”€ NotificationToast.tsx  # é€šçŸ¥å¼¹çª—
â”‚   â”œâ”€â”€ ModalsContainer.tsx     # å¼¹çª—å®¹å™¨
â”‚   â”œâ”€â”€ stage/                  # é˜¶æ®µæ¨¡å—
â”‚   â”œâ”€â”€ event/                  # äº‹ä»¶æ¨¡å—
â”‚   â”œâ”€â”€ career/                 # èŒä¸šæ¨¡å—
â”‚   â”œâ”€â”€ education/              # æ•™è‚²æ¨¡å—
â”‚   â”œâ”€â”€ relationship/           # äººé™…å…³ç³»æ¨¡å—
â”‚   â”œâ”€â”€ property/               # æˆ¿äº§æ¨¡å—
â”‚   â”œâ”€â”€ investment/             # æŠ•èµ„æ¨¡å—
â”‚   â””â”€â”€ achievement/            # æˆå°±æ¨¡å—
â”‚
â”œâ”€â”€ features/               # åŠŸèƒ½æ¨¡å—ï¼ˆå¯å¤ç”¨çš„ Hooksï¼‰
â”‚   â”œâ”€â”€ stage/                 # é˜¶æ®µç›¸å…³
â”‚   â”œâ”€â”€ event/                 # äº‹ä»¶ç›¸å…³
â”‚   â”œâ”€â”€ attribute/             # å±æ€§ç›¸å…³
â”‚   â”œâ”€â”€ career/                # èŒä¸šç›¸å…³
â”‚   â”œâ”€â”€ relationship/          # äººé™…å…³ç³»ç›¸å…³
â”‚   â””â”€â”€ modal/                 # æ¨¡æ€æ¡†çŠ¶æ€ç®¡ç†
â”‚
â”œâ”€â”€ hooks/                  # é€šç”¨ Hooks
â”‚   â”œâ”€â”€ useGameState.ts      # æ¸¸æˆçŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ useGameEffects.ts   # æ¸¸æˆå‰¯ä½œç”¨å¤„ç†
â”‚
â”œâ”€â”€ utils/                  # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ gameUtils.ts        # æ¸¸æˆå·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ attributeUtils.ts   # å±æ€§è®¡ç®—å·¥å…·
â”‚   â”œâ”€â”€ stageUtils.ts       # é˜¶æ®µå·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ eventUtils.ts        # äº‹ä»¶å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ careerUtils.ts      # èŒä¸šå·¥å…·å‡½æ•°
â”‚
â”œâ”€â”€ services/               # ä¸šåŠ¡é€»è¾‘æœåŠ¡å±‚
â”‚   â”œâ”€â”€ aiService.ts        # AI äº‹ä»¶ç”ŸæˆæœåŠ¡
â”‚   â”œâ”€â”€ eventService.ts     # äº‹ä»¶å¤„ç†æœåŠ¡
â”‚   â”œâ”€â”€ stageService.ts    # é˜¶æ®µç®¡ç†æœåŠ¡
â”‚   â”œâ”€â”€ careerService.ts   # èŒä¸šç®¡ç†æœåŠ¡
â”‚   â””â”€â”€ relationshipService.ts # äººé™…å…³ç³»æœåŠ¡
â”‚
â”œâ”€â”€ config/                 # é…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ aiConfig.ts         # AI é…ç½®
â”‚   â””â”€â”€ README.md           # é…ç½®è¯´æ˜
â”‚
â”œâ”€â”€ types.ts                # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ constants.ts            # æ¸¸æˆå¸¸é‡é…ç½®
â””â”€â”€ ...
```

## ğŸ§© æ ¸å¿ƒæ¨¡å—è¯¦è§£

### 1. hooks/useGameState.ts - çŠ¶æ€ç®¡ç†æ ¸å¿ƒ

**èŒè´£**: å°è£…æ¸¸æˆå…¨å±€çŠ¶æ€ç®¡ç†é€»è¾‘

**æ ¸å¿ƒåŠŸèƒ½**:
- çŠ¶æ€åˆå§‹åŒ–ï¼ˆä» localStorage åŠ è½½ï¼‰
- çŠ¶æ€æ›´æ–°æ–¹æ³•
- å­˜æ¡£å’Œè¯»æ¡£
- æ¸¸æˆå¼€å§‹å¤„ç†

### 2. views/GameView.tsx - ä¸»æ¸¸æˆè§†å›¾

**èŒè´£**: æ•´åˆæ‰€æœ‰æ¸¸æˆç•Œé¢å’ŒåŠŸèƒ½æ¨¡å—

**å…³é”®åŠŸèƒ½**:
- ä½¿ç”¨å„æ¨¡å—çš„ Handlers
- æ¸²æŸ“æ¸¸æˆå¤´éƒ¨ã€æ“ä½œæ ã€å±æ€§é¢æ¿ç­‰
- ç®¡ç†äº‹ä»¶å¼¹çª—æ˜¾ç¤º

### 3. services/eventService.ts - äº‹ä»¶æœåŠ¡

**èŒè´£**: äº‹ä»¶ç”Ÿæˆå’Œå¤„ç†

**æ ¸å¿ƒåŠŸèƒ½**:
- æ£€æŸ¥é¢„è®¾äº‹ä»¶
- è°ƒç”¨ AI ç”Ÿæˆäº‹ä»¶
- äº‹ä»¶ç¼“å­˜ç®¡ç†

### 4. services/aiService.ts - AI æœåŠ¡

**èŒè´£**: AI äº‹ä»¶ç”Ÿæˆ

**æ ¸å¿ƒåŠŸèƒ½**:
- æ„å»º AI æç¤ºè¯
- è°ƒç”¨ AI API
- è§£æ AI å“åº”

### 5. utils/attributeUtils.ts - å±æ€§å·¥å…·

**èŒè´£**: å±æ€§è®¡ç®—å’Œåº”ç”¨

**æ ¸å¿ƒåŠŸèƒ½**:
- è®¡ç®—å±æ€§ï¼ˆåŒ…å«åŠ æˆï¼‰
- åº”ç”¨äº‹ä»¶æ•ˆæœ
- å±æ€§é™åˆ¶å’ŒéªŒè¯

## ğŸ”— æ¨¡å—ä¾èµ–å…³ç³»

```
App.tsx (åè°ƒå™¨)
  â”œâ”€â”€ hooks/
  â”‚   â”œâ”€â”€ useGameState.ts (çŠ¶æ€ç®¡ç†)
  â”‚   â””â”€â”€ useGameEffects.ts (å‰¯ä½œç”¨å¤„ç†)
  â”œâ”€â”€ views/
  â”‚   â”œâ”€â”€ GameView.tsx (ä¸»è§†å›¾)
  â”‚   â”œâ”€â”€ ModalsContainer.tsx (å¼¹çª—å®¹å™¨)
  â”‚   â””â”€â”€ */useXxxHandlers.ts (ä¸šåŠ¡é€»è¾‘ Handlers)
  â””â”€â”€ components/* (UI ç»„ä»¶)

views/*/useXxxHandlers.ts
  â”œâ”€â”€ features/* (å¯å¤ç”¨åŠŸèƒ½ Hooks)
  â”œâ”€â”€ services/* (ä¸šåŠ¡é€»è¾‘æœåŠ¡)
  â”œâ”€â”€ utils/* (å·¥å…·å‡½æ•°)
  â”œâ”€â”€ types.ts (ç±»å‹å®šä¹‰)
  â””â”€â”€ constants.ts (å¸¸é‡é…ç½®)

services/
  â”œâ”€â”€ aiService.ts
  â”‚   â”œâ”€â”€ config/aiConfig.ts (AI é…ç½®)
  â”‚   â””â”€â”€ types.ts
  â”œâ”€â”€ eventService.ts
  â”‚   â””â”€â”€ aiService.ts (ç”Ÿæˆäº‹ä»¶)
  â””â”€â”€ stageService.ts
      â””â”€â”€ types.ts

features/*
  â”œâ”€â”€ services/* (ä¸šåŠ¡é€»è¾‘æœåŠ¡)
  â”œâ”€â”€ utils/* (å·¥å…·å‡½æ•°)
  â””â”€â”€ types.ts

components/*
  â”œâ”€â”€ types.ts
  â””â”€â”€ constants.ts (éƒ¨åˆ†ç»„ä»¶)
```

## ğŸ“Š ä»£ç ç»„ç»‡åŸåˆ™

### 1. å•ä¸€èŒè´£åŸåˆ™

æ¯ä¸ªæ¨¡å—/ç»„ä»¶åªè´Ÿè´£ä¸€ä¸ªåŠŸèƒ½ï¼š
- `EventModal` åªè´Ÿè´£äº‹ä»¶æ˜¾ç¤º
- `eventService` åªè´Ÿè´£äº‹ä»¶ç”Ÿæˆ
- `aiService` åªè´Ÿè´£ AI äº¤äº’

### 2. å…³æ³¨ç‚¹åˆ†ç¦»

- **UI å±•ç¤º** â†’ `components/` (çº¯å±•ç¤ºç»„ä»¶)
- **è§†å›¾ç»„åˆ** â†’ `views/` (ç»„åˆç»„ä»¶ + Handlers)
- **ä¸šåŠ¡é€»è¾‘** â†’ `services/`, `utils/` (æœåŠ¡å±‚å’Œå·¥å…·å‡½æ•°)
- **åŠŸèƒ½å¤ç”¨** â†’ `features/` (å¯å¤ç”¨çš„åŠŸèƒ½ Hooks)
- **çŠ¶æ€ç®¡ç†** â†’ `hooks/` (çŠ¶æ€ç®¡ç† Hooks)
- **æ•°æ®å®šä¹‰** â†’ `types.ts`, `constants.ts`
- **é…ç½®ç®¡ç†** â†’ `config/`

### 3. å¯å¤ç”¨æ€§

- é€šç”¨ç»„ä»¶å¯å¤ç”¨ï¼ˆå¦‚ `Modal` åŸºç¡€ç»“æ„ï¼‰
- æœåŠ¡å‡½æ•°å¯å¤ç”¨ï¼ˆå¦‚ `generateEvent`ï¼‰
- ç±»å‹å®šä¹‰å¯å¤ç”¨ï¼ˆå¦‚ `Player`ï¼‰
- åŠŸèƒ½ Hooks å¯å¤ç”¨ï¼ˆå¦‚ `useEvent`ï¼‰

### 4. å¯æµ‹è¯•æ€§

- æœåŠ¡å±‚å‡½æ•°æ˜¯çº¯å‡½æ•°ï¼Œæ˜“äºæµ‹è¯•
- ç»„ä»¶é€šè¿‡ props æ¥æ”¶ä¾èµ–ï¼Œæ˜“äº mock
- ä¸šåŠ¡é€»è¾‘ä¸ UI åˆ†ç¦»

## ğŸ¯ æ¨¡å—æ‰©å±•æŒ‡å—

### æ·»åŠ æ–°åŠŸèƒ½æ¨¡å—

1. **å®šä¹‰ç±»å‹** (`types.ts`)
2. **å®šä¹‰å¸¸é‡** (`constants.ts`)
3. **å®ç°æœåŠ¡** (`services/newFeatureService.ts`)
4. **åˆ›å»º UI ç»„ä»¶** (`components/NewFeatureModal.tsx`)
5. **åˆ›å»ºè§†å›¾ Handlers** (`views/newFeature/useNewFeatureHandlers.ts`)
6. **å¯¼å‡ºæ¨¡å—** (`views/newFeature/index.ts`)
7. **åœ¨ GameView ä¸­ä½¿ç”¨** (`views/GameView.tsx`)

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒ [å®ç°æ–¹æ¡ˆ](./IMPLEMENTATION.md)ã€‚

## ğŸ“ ä»£ç è§„èŒƒ

å‚è€ƒ [é¡¹ç›®è§„èŒƒ](./STANDARDS.md) äº†è§£è¯¦ç»†çš„ä»£ç è§„èŒƒã€‚

---

**æç¤º**: å»ºè®®åœ¨ä¿®æ”¹ä»£ç å‰å…ˆé˜…è¯»æœ¬æ–‡æ¡£ï¼Œäº†è§£æ¨¡å—èŒè´£å’Œä¾èµ–å…³ç³»ã€‚

